<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>US Genetic Privacy Laws</title>

  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
  <style>
    body, html {
      height: 100%;
      margin: 0;
    }

    #map {
      width: 75vw;
      height: 100vh;
      position: absolute;
      right: 0;
      top: 0;
    }
  </style>
</head>

<body>

  <!--<h1>US Genetic Privacy Laws by State</h1>
  <h2></h2>-->
  <div id="map"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js" integrity="sha512-vc58qvvBdrDR4etbxMdlTt4GBQk1qjvyORR2nrsPsFPyrs+/u5c3+1Ct6upOgdZoIl7eq6k3a1UPDSNAQi/32A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://unpkg.com/topojson@3.0.2/dist/topojson.js"></script>

  <script>
    // set the width and height to 75% of the viewport width and 100% of the viewport height
    const width = window.innerWidth * 0.75;
    const height = window.innerHeight;

    const svg = d3.select("#map") // select the document's body
      .append("svg") // create and append a new svg element to it
      .attr("width", width) // give the svg width
      .attr("height", height); // give the svg height

    const projection = d3.geoAlbersUsa()
      .translate([width / 2, height / 2])
      .scale(1000);
    
    const path = d3.geoPath(projection);

    Promise.all([
      // Load your data here
      d3.json("data/states-10m.json") 
    ]).then(makeMap).catch(error => console.error('Error loading data:', error));

    function makeMap([states]) {

        // You have access to the data like this...
        console.log(topojson.feature(states, states.objects.states));

        svg.selectAll("path")
            .data(topojson.feature(states, states.objects.states).features)
            .enter()
            .append("path")
            .attr("d", path)
            .attr("fill", "lightgray")
            .attr("stroke", "white")
            .attr("stroke-width", 0.5);

    };    
   
  </script>
</body>

</html>
