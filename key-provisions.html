<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <div id="titlebar">
        <a href="https://ui-libraries.github.io/genetic-privacy-map/"><span class="dynamictitle">Genetic Privacy Laws in the USA</span></a>
        <p>Key Provisions and Comparisons</p>
    </div> 
    <style>
        body {
            background-color: #f8f9fa;
            font-family: "Forum", serif;
        }
        #intro-info{
            padding-bottom:0px!important;
            margin-bottom:0px;
        }
        .section {
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
        }
        .section:hover {
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        .card-title {
            margin-bottom: 0;
        }
        .card-body {
            position: relative;
            padding-bottom: 2.5rem;
        }
        .card-text {
            overflow: hidden;
            max-height: 0;
            opacity: 0;
            transition: max-height 0.5s ease, opacity 0.5s ease;
        }
        .section.expanded .card-text {
            max-height: 1000px; /* Adjust as needed */
            opacity: 1;
        }
        .expand-icon {
            position: absolute;
            bottom: 0.5rem;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #6c757d;
            transition: transform 0.3s ease;
        }
        .section.expanded .expand-icon {
            transform: translateX(-50%) rotate(180deg);
        }
        #scattered-cards {
            position: relative;
            min-height: 100vh;
        }
        .scattered-card {
            position: absolute;
            width: 300px;
            max-width: 90vw;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 10px;
            padding: 1rem;
            transition: all 0.5s ease;
            cursor: move;
        }
        #static-comparison {
            opacity: 0;
            transition: opacity 1s ease;
        }
        .comparison-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .comparison-line {
            height: 4px;
            background: linear-gradient(to right, #007bff, #00ff00);
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
        }
        .state-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }
        .policy-text {
            font-size: 0.9rem;
            color: #666;
        }
        #page-title-container{
            width: 20%;
            position: relative;
            z-index: 10000;
            top: 400px;
            width: 300px;
            text-align: center;
        }
        #page-title{
            background-color: #007bff;
            opacity: 1;
            color: white;
            font-size: 24px;
        }
        #arrow-bounce{
            margin-top: 10px;;
        }
        #titlebar {
            text-align: center;
            padding-top: 0px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin: 0;
            padding: 10px;
            padding-bottom: 13px;
            color: black;
            font-size: 24px;
        }
        .accordion-button:not(.collapsed) {
            background-color: #f8f9fa;
            color: #212529;
        }
        .comparison-card {
            margin-bottom: 1rem;
        }
        .accordion-row{
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="intro-info" class="container py-5">
        <h5 class="text-center mb-5">There are many different decisions that an insurer makes about an individual. For example, they can decide whether to insure them (called underwriting), decide whether to renew an existing policy, or decide how much to charge an individual for their insurance (premiums).</h5>
        <div id="journey">
            <div class="section card mb-3">
                <div class="card-body">
                    <h2 class="card-title">Marketing insurance to potential customers</h2>
                    <p class="card-text">Insurers market their products to attract potential customers. Genetic information could potentially be used to tailor marketing approaches.</p>
                    <i class="fas fa-chevron-down expand-icon"></i>
                </div>
            </div>
            <div class="section card mb-3">
                <div class="card-body">
                    <h2 class="card-title">Deciding whether to insure a person and how much to charge</h2>
                    <p class="card-text">This is known as underwriting. Insurers assess the risk of insuring an individual and determine the premium. Laws may restrict the use of genetic information here.</p>
                    <i class="fas fa-chevron-down expand-icon"></i>
                </div>
            </div>
            <div class="section card mb-3">
                <div class="card-body">
                    <h2 class="card-title">Interacting with existing customers</h2>
                    <p class="card-text">Insurers may offer wellness programs or other interactions with existing customers. Genetic information could be used to tailor such interactions.</p>
                    <i class="fas fa-chevron-down expand-icon"></i>
                </div>
            </div>
            <div class="section card mb-3">
                <div class="card-body">
                    <h2 class="card-title">Deciding whether to renew a policy</h2>
                    <p class="card-text">Insurers decide whether to continue insuring an individual. Genetic information could influence these decisions, depending on regulations.</p>
                    <i class="fas fa-chevron-down expand-icon"></i>
                </div>
            </div>
        </div>
    </div>
    <div id="page-title-container" class="container justify-content-center align-items-center">
       <span id="page-title" class="text-center card row">no federal oversight.</span>
       <div id="arrow-bounce">
            <img width="30" src="blackArrowFinal.gif">
        </div>
    </div>

    <div id="scattered-cards">
        <!-- Scattered cards will be dynamically added here -->
    </div>
<p></p>
<p></p>
    <div id="static-comparison">
        <div id="accordion-comparison" class="container mt-5">
            <div class="accordion" id="stateAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                    <div class="row accordion-row">
                        <div class="col-md-5">
                            <div class="comparison-card">
                                <div class="state-name">Florida</div>
                            </div>
                        </div>
                        <div class="col-md-2 position-relative">
                            <!--Will need to manually set as the descriptions get finalized -->
                            <div class="comparison-line" style="top: calc(10% + 0.5rem)"></div>
                        </div>
                        <div class="col-md-5">
                            <div class="comparison-card">
                                <div class="state-name">Tennessee</div>
                            </div>
                        </div>
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#stateAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="">
                                        <div class="state-name">FL</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="">
                                        <div class="state-name">TN</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <p>In 2020, Florida passed a law regulating genetic information in insurance. Here is one section of the bill:
                                    <ol type="a">
                                    <li>(a)	In the absence of a diagnosis of a condition related to genetic information, health insurers, life insurers, and long-term care insurers authorized to transact insurance in this state may not cancel, limit, or deny coverage, or establish differentials in premium rates, based on such insurance.</li>
                                    <li>(b)	Health insurers, life insurers, and long-term care insurers may not require or solicit genetic information, use genetic test results, or consider a person's decisions or actions relating to genetic testing in any manner for any insurance purpose.</li>
                                    <li>(c)	This section does not apply to the underwriting or issuance of an accident-only policy, hospital indemnity or fixed indemnity policy, dental policy, or vision policy or any other actions of an insurer directly related to an accident-only policy, hospital indemnity or fixed indemnity policy, dental policy, or vision policy.</li>
                                    <li>(d)	Nothing in this section shall be construed as preventing a life insurer or long-term care insurer from accessing an individual's medical record as part of an application exam. Nothing in this section prohibits a life insurer or long-term care insurer from considering a medical diagnosis included in an individual's medical record, even if a diagnosis was made based on the results of a genetic test.</li>
                                    </ol>
                                    We can narrow in to focus on which types of insurer actions the law covers.
                                    <ol>
                                    <li>(a)	In the absence of a diagnosis of a condition related to genetic information, health insurers, life insurers, and long-term care insurers authorized to transact insurance in this state <mark>may not cancel, limit, or deny coverage, or establish differentials in premium rates,</mark> based on such information.</li>
                                    <li>(b)	Health insurers, life insurers, and long-term care insurers may not require or solicit genetic information, use genetic test results, or consider a person's decisions or actions relating to genetic testing <mark>in any manner for any insurance purpose.</mark></li>
                                    </ol>
                                    The first part of the new law focuses on decisions around insuring or renewing insurance policies (canceling, limiting, or denying coverage) and around how much an insurer can charge (differentials in premium rates). However, the second part of the new law is even broader saying that the insurers cannot use genetic test results for “any insurance purpose”.
                                    
                                    Let’s see how this compares to another recently passed bill. In 2023, the Tennessee legislature passed a bill that included this section:
                                    
                                    <ol type="a">
                                    <li>(a) A life insurance provider shall not cancel insurance coverage for an individual or a family member of an individual based solely on the individual's or family member's genetic information.</li>
                                    <li>(b) A life insurance provider shall not request or require an individual to whom the insurer provides life insurance coverage, or an individual who applies for life insurance coverage, to take a genetic test as a precondition of insurability, and shall not require the complete genome sequencing of an individual's DNA.</li>
                                    <li>(c) A life insurance provider shall not access sensitive medical information, including the genetic data of an individual, without first obtaining the individual's signed, written consent.</li>
                                    <li>(d) This section does not prevent a life insurance provider from requesting or obtaining existing health information for underwriting, including genetic information contained within an individual's medical record.</li>
                                    </ol>
                                    <p>When we look at what insurer actions are covered in this bill, we can see that it is much narrower.</p>
                                    
                                    <p>(a) A life insurance provider shall not <mark>cancel insurance coverage</mark> for an individual or a family member of an individual based solely on the individual's or family member's genetic information.</p>
                                    
                                    <p>In Tennessee, the law only talks about canceling existing insurance coverage. So, it is likely that in Tennessee, insurers could still use genetic information when considering an initial application or deciding what premiums to charge.</p>
                                    
                                    <p>The more insurer actions that are included in a statute, the more protective against genetic discrimination the law will be.
                                    </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="" class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            California and New York
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#stateAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">California</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">New York</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Texas and Massachusetts
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#stateAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Texas</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Massachusetts</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            Michigan and Oregon
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#stateAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Michigan</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Oregon</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            Washington and Colorado
                        </button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#stateAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Washington</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="comparison-card">
                                        <div class="state-name">Colorado</div>
                                        <div class="policy-text">Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/Draggable.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scatteredCardsContainer = document.getElementById('scattered-cards');
            const staticComparison = document.getElementById('static-comparison');
            const statePolicies = [
                { state: "Florida", policy: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent turpis lectus, semper quis ante vel, sagittis vulputate arcu. Vivamus porta pharetra rutrum. Mauris tempus sollicitudin massa. Aenean fringilla ipsum justo, a pellentesque nibh maximus eu." },
                { state: "Tennessee", policy: "Cras ac commodo libero. Suspendisse aliquet, metus non ullamcorper aliquet, ligula diam laoreet turpis, sit amet elementum turpis lorem id eros. Phasellus ullamcorper, odio non dignissim tincidunt, ligula turpis feugiat odio, et aliquet elit libero vitae dui." },
                { state: "California", policy: "Donec dictum, arcu eu consequat posuere, mi ex tristique ligula, ut semper massa metus in est. Aliquam nec sagittis ex. Etiam ullamcorper nibh commodo vehicula lobortis. Integer vel faucibus nunc. " },
                { state: "New York", policy: "Quisque a turpis sodales, consectetur odio eget, aliquam augue. Cras vel consectetur neque. Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec. " },
                { state: "Texas", policy: "Mauris sit amet turpis sagittis, posuere felis sed, luctus nisl. Suspendisse eu felis pretium, consectetur ex in, malesuada est." },
                { state: "Massachusetts", policy: "Phasellus ullamcorper, odio non dignissim tincidunt, ligula turpis feugiat odio, et aliquet elit libero vitae dui." },
                { state: "Michigan", policy: "Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec." },
                { state: "Oregon", policy: "Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec." },
                { state: "Washington", policy: "Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec." },
                { state: "Colorado", policy: "Cras ultricies velit sit amet interdum consequat. In sed metus placerat, rutrum nibh et, vestibulum nisi. Nunc cursus molestie magna, scelerisque cursus metus pulvinar nec." }
            ];

            function createScatteredCards() {
                const viewportHeight = window.innerHeight;
                const cardHeight = 100; // Approximate height of a card

                statePolicies.forEach((policy, index) => {
                    const card = document.createElement('div');
                    card.className = 'scattered-card';
                    card.innerHTML = `
                        <div class="state-name">${policy.state}</div>
                        <div class="policy-text">${policy.policy}</div>
                    `;
                    
                    const rotation = Math.random() * 40 - 20;
                    const horizontalPosition = 10 + Math.random() * 80;
                    const verticalPosition = index * (viewportHeight / statePolicies.length) + 500;
                    console.log(verticalPosition)
                    
                    card.style.transform = `rotate(${rotation}deg)`;
                    card.style.position = 'absolute';
                    card.style.left = `${horizontalPosition}%`;
                    card.style.top = `${verticalPosition}px`;
                    
                    scatteredCardsContainer.appendChild(card);
                    
                    // Make each card draggable
                    Draggable.create(card, {
                        type: "x,y",
                        bounds: scatteredCardsContainer,
                        edgeResistance: 0.65,
                        throwProps: true
                    });
                });
            }

            function initializeAnimation() {
                gsap.registerPlugin(ScrollTrigger);
                
                const cards = gsap.utils.toArray('.scattered-card');
                
                cards.forEach((card, index) => {
                    gsap.to(card, {
                        opacity: 0,
                        scale: 0.8,
                        y: -50,
                        ease: "power2.out",
                        scrollTrigger: {
                            trigger: "#scattered-cards",
                            start: "top 1%",
                            end: "bottom 2%",
                            scrub: true,
                            onUpdate: (self) => {
                                // Calculate opacity based on scroll progress
                                //console.log(self.progress)
                                const progress = self.progress;
                                const opacity = 1 - (progress + .4);
                                card.style.opacity = opacity;
                            }
                        }
                    });
                });

                gsap.fromTo(staticComparison, 
                    { opacity: 0, y: 50 },
                    {
                        opacity: 1,
                        y: 0,
                        ease: "power2.out",
                        duration: 2000,
                        scrollTrigger: {
                            trigger: "#scattered-cards",
                            start: "center center",
                            end: "bottom center",
                            scrub: true
                        }
                    }
                );
            }

            const sections = document.querySelectorAll('.section');

            sections.forEach((section, index) => {
                gsap.fromTo(section, 
                    { 
                        opacity: 0, 
                        x: index % 2 === 0 ? -100 : 100
                    },
                    { 
                        opacity: 1, 
                        x: 0, 
                        duration: 1, 
                        ease: "power2.out",
                        delay: index * 0.2
                    }
                );

                const content = section.querySelector('.card-text');
                const expandIcon = section.querySelector('.expand-icon');

                section.addEventListener('click', () => {
                    section.classList.toggle('expanded');
                    if (section.classList.contains('expanded')) {
                        gsap.to(content, {
                            maxHeight: 1000,
                            opacity: 1,
                            duration: 0.5,
                            ease: "power2.out"
                        });
                    } else {
                        gsap.to(content, {
                            maxHeight: 0,
                            opacity: 0,
                            duration: 0.5,
                            ease: "power2.in"
                        });
                    }
                    gsap.to(expandIcon, {
                        rotation: section.classList.contains('expanded') ? 180 : 0,
                        duration: 0.3
                    });
                });

                section.addEventListener('mouseenter', () => {
                    gsap.to(section, { scale: 1.02, duration: 0.3 });
                    gsap.to(expandIcon, { y: -5, duration: 0.3 });
                });

                section.addEventListener('mouseleave', () => {
                    gsap.to(section, { scale: 1, duration: 0.3 });
                    gsap.to(expandIcon, { y: 0, duration: 0.3 });
                });
            });


            createScatteredCards();
            initializeAnimation();
        });
    </script>
</body>
</html>